<!DOCTYPE html>
<title>Route Maker - Traveller Map</title>
<meta charset="utf-8">
<link rel="shortcut icon" href="../favicon.svg">
<link rel="stylesheet" href="../site.css?update=2023-08-08T08:43:58">
<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.8/handlebars.min.js"></script>
<script src="../map.js?update=2023-08-08T08:43:57"></script>
<script src="post.js?update=2023-09-13T19:20:48"></script>

<h1>Route Maker &mdash; The Traveller Map</h1>
<p style="font-size: 120%; width: 600px;">
  This tool lets you create route entries for custom sectors,
  part of the <a target=_blank rel=noopener href="../doc/metadata">metadata</a> needed
  to create <a href="poster">posters</a> or <a href="booklet">booklets</a>.
</p>

<ol class="steps">
  <li>
  <select id="sector">
    <option selected disabled>Select...</option>
  </select>
  a sector, or enter custom sector data/metadata:

<div>Sector Data:
  (<a target=_blank rel=noopener href="../doc/fileformats">file formats</a>)
  &mdash;
  <em>tip: <a target=_blank rel=noopener href="../tools/lintsec.html">check your data</a> first</em>
</div>
<textarea id="data" name="data" class="drag-n-drop"
          spellcheck="false" wrap="off" cols="80" rows="10"></textarea>

<div>Existing Metadata:
  (<a target=_blank rel=noopener href="../doc/metadata">XML</a> or
  <a target=_blank rel=noopener href="http://dotclue.org/t20/">MSEC</a>)</div>
<textarea id="metadata" name="metadata" class="drag-n-drop"
          spellcheck="false" wrap="off" cols="80" rows="10"></textarea>

  <li>Click <button id="parsesec">Generate Map</button> (may take a few seconds)
    <div>
      Highlight:
       &nbsp; <label><input type=checkbox id="highlight-im"> Importance</label>
       &nbsp; <label><input type=checkbox id="highlight-po"> Population</label>
    </div>

  <li>Optional: Autogenerate routes for <button id="auto-kk">K'kree</button> or <button id="auto-zh">Zhodani</button>

  <li>Click on the map to set a route start point, then again to set a route end point
  <li>If needed, click <button id="undo">Undo</button> to undo the last click,
    or <button id="clear">Clear</button> to start over

  <li>Optional: <button id="nointersect">Delete Intersections</button>

  <li>
    <form id="form">
Pick a file type:
<label><input id="xml" type="radio" name="metatype" value="xml" checked><a target=_blank rel=noopener href="../doc/api#metadata">XML</a></label> or
    <label><input id="msec" type="radio" name="metatype" value="msec"><a target=_blank rel=noopener href="../doc/api#msec">MSEC</a></label>
    </form>
  <li>Copy the routes from the box below into your metadata file:<br>
<textarea id="metadata_generated"
          readonly
          spellcheck="false" wrap="off" cols="80" rows="10"></textarea>
</ol>

<p>Tip: Use your browser&#39;s zoom in/zoom out functions to see map details.</p>

<div>
  <canvas id="canvas" width="450" height="651"
          style="
                 position: absolute;
                 z-index: 1;
                 right: 10px; top: 10px;
                 cursor: crosshair;
                 border: 1px solid black;
                 background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAABlBMVEUAAAAoKCj70ajHAAAAE0lEQVQI12P4/5+BgZoEA3VNBADtvT/BrQ+bEwAAAABJRU5ErkJggg==');
                 "></canvas>
</div>

  <script id="xml-template" type="text/x-handlebars-template">
<?xml version="1.0" encoding="utf-8" ?>
<Sector>
  <Routes>
{{#routes}}    <Route Start="{{start}}" End="{{end}}"/>
{{/routes}}  </Routes>
</Sector>
  </script>

  <script id="msec-template" type="text/x-handlebars-template">
{{#routes}}route {{start}} {{end}}
{{/routes}}
  </script>

<div style="margin-top: 10px; font-size: 80%">
  The <em class="product">Traveller</em> game in all forms is owned by Mongoose Publishing. Copyright 1977 &ndash; 2024 Mongoose Publishing.
  <a href="https://cdn.shopify.com/s/files/1/0609/6139/0839/files/Traveller_Fair_Use_Policy_2024.pdf?v=1725357857">Fair Use Policy</a>
</div>

<script src="routes.js?update=2023-08-08T08:43:57"></script>
